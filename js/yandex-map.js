"use strict";$(function(){var t="yandex-map",e="/local/templates/azbn7theme",a=$("#"+t);if(a.length){var o=a,n={center:[52.971073,36.052447],zoom:13,controls:["smallMapDefaultSet"]},s=function(){var a=new ymaps.Map(t,n,{}),o=$(this),s=(JSON.parse(o.attr("data-contact")||"{}"),ymaps.templateLayoutFactory.createClass('<div class="contacts-panel__location"><svg class="icon-svg icon-map-location" role="img"><use xlink:href="'+e+'/img/svg/sprite.svg#map-location"></use></svg></div>')),c=ymaps.templateLayoutFactory.createClass('<div style="color: #024f85; font-weight: bold;">$[properties.geoObjects.length]</div>'),l=$(".azbn__contacts__item");if(l.length){var i=[],r=new ymaps.Clusterer({preset:"islands#nightClusterIcons",gridSize:128,clusterIconContentLayout:c,groupByCoordinates:!1,clusterDisableClickZoom:!1,clusterHideIconOnBalloonOpen:!1,geoObjectHideIconOnBalloonOpen:!1});l.each(function(t){var e=$(this);try{var a=JSON.parse(e.attr("data-contact")||{});i.push(new ymaps.Placemark(a.coord,{},{iconLayout:s,iconImageSize:[42,52],iconImageOffset:[-21,-52],clusterCaption:a.title}))}catch(t){console.dir(t),console.dir(e)}}),r.add(i),a.geoObjects.add(r),a.setBounds(r.getBounds(),{checkZoomRange:!0}),$(document.body).on("click.azbn7",".azbn__contacts__item a",null,function(t){t.preventDefault();var e=$(this).closest(".azbn__contacts__item"),o=JSON.parse(e.attr("data-contact")||{});a.setCenter(o.coord),a.setZoom(16,{smooth:!0})})}};o.length&&ymaps.ready(s)}});